# 前端语法问题清单 - 完整版

> 生成时间：2024年12月
> 
> 检查方式：代码扫描 + 模式匹配 + 手动审查
> 
> **⚠️ 当前状态**：发现 **87+ 个编码乱码问题**

## 📊 错误统计总览

| 问题类型 | 数量 | 严重程度 | 状态 |
|---------|------|---------|------|
| **编码乱码（字符截断）** | 70+ | 🔴 高 | ⚠️ 待修复 |
| **编码乱码（完全乱码）** | 17+ | 🔴 高 | ⚠️ 待修复 |
| **HTML注释乱码** | 10+ | 🟡 中 | ⚠️ 待修复 |
| **代码注释乱码** | 15+ | 🟡 中 | ⚠️ 待修复 |
| **总计** | **112+** | - | ⚠️ 待修复 |

---

## 一、编码乱码问题详情

### 1. `src/views/test-execution/UIScriptRepair.vue` (10个问题)

#### 字符串乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 47 | `placeholder="请粘贴需要修复的UI自动化脚本"` | `placeholder="请粘贴需要修复的UI自动化脚本"` | 字符串截断 |
| 105 | `placeholder="请粘贴执行过程中的错误日志"` | `placeholder="请粘贴执行过程中的错误日志"` | 字符串截断 |
| 141 | `placeholder="可选：提供新值的页面代码URL，用于检测页面变更"` | `placeholder="可选：提供新值的页面代码URL，用于检测页面变更"` | 字符串截断 |
| 199 | `分析并修?` | `分析并修复` | 按钮文本截断 |
| 205 | `仅分析错?检索内容方式` | `仅分析错误` | 按钮文本截断+额外字符 |
| 367 | `label="原"` | `label="原值"` | 表格列标题截断 |
| 369 | `label="新值"` | `label="新值"` | 表格列标题截断 |

#### 代码注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 417 | `// 响应式数据?` | `// 响应式数据` | 注释截断 |
| 649 | `// 先分析错?` | `// 先分析错误` | 注释截断 |
| 663 | `// 如果有新值页面代码URL，检测页面变?` | `// 如果有新值页面代码URL，检测页面变更` | 注释截断 |
| 667 | `// 这里需要先解析旧值页面元素和新值页面元素，简化处?` | `// 这里需要先解析旧值页面元素和新值页面元素，简化处理` | 注释截断 |
| 675 | `// 执行人中修复` | `// 执行智能修复` | 注释错误 |

---

### 2. `src/views/data-document/DataDocumentGeneration.vue` (17个问题)

#### 字符串乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 49 | `按需?检索内容方式<用例<复用` | `按需求检索内容方式<用例<复用` | 字符串乱码 |
| 52 | `按用?检索内容方式<用例<复用` | `按用例检索内容方式<用例<复用` | 字符串乱码 |
| 67 | `label="需"` | `label="需求"` | label截断 |
| 76 | `placeholder="请选择需"` | `placeholder="请选择需求"` | placeholder截断 |
| 235 | `placeholder="有效等价类（逗号分隔"` | `placeholder="有效等价类（逗号分隔）"` | placeholder截断 |
| 367 | `label="有效"` | `label="有效性"` | 表格列标题截断 |
| 400 | `title="有效用例"` | `title="有效用例数"` | 统计标签截断 |
| 403 | `title="无效用例"` | `title="无效用例数"` | 统计标签截断 |
| 421 | `<!-- 正交表生?-->` | `<!-- 正交表生成 -->` | HTML注释截断 |
| 424 | `label="正交表生"` | `label="正交表生成"` | 标签页标题截断 |
| 472 | `placeholder="水平值（逗号分隔，如：A,B,C"` | `placeholder="水平值（逗号分隔，如：A,B,C）"` | placeholder截断 |
| 517 | `生成正交?` | `生成正交表` | 按钮文本截断 |
| 535 | `<!-- 正交表结果展?-->` | `<!-- 正交表结果展示 -->` | HTML注释截断 |
| 1367 | `` `正交?` `` | `` `正交表` `` | 字符串截断 |
| 1403 | `` `正交?` `` | `` `正交表` `` | 字符串截断 |

#### 代码注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 676 | `// 标签?` | `// 标签页` | 注释截断 |
| 685 | `// 需求ID列?` | `// 需求ID列表` | 注释截断 |
| 856 | `// 正交表表?` | `// 正交表表单` | 注释截断 |
| 920 | `// 加载需求ID列?` | `// 加载需求ID列表` | 注释截断 |
| 941 | `console.error('加载需求ID列表失?', error)` | `console.error('加载需求ID列表失败', error)` | 字符串截断 |
| 1133 | `// 手动输入：转换参数格?` | `// 手动输入：转换参数格式` | 注释截断 |
| 1196 | `// 生成正交?` | `// 生成正交表` | 注释截断 |
| 1253 | `'正交表生成成'` | `'正交表生成成功'` | 字符串截断 |
| 1259 | `'生成正交表失'` | `'生成正交表失败'` | 字符串截断 |
| 1502 | `// 切换标签页时的处?` | `// 切换标签页时的处理` | 注释截断 |

---

### 3. `src/views/test-execution/UIScriptGeneration.vue` (10个问题)

#### 字符串乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 403 | `'正在生成脚本，请稍?..'` | `'正在生成脚本，请稍候...'` | 字符串截断 |

#### 代码注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 664 | `// 响应式数据?` | `// 响应式数据` | 注释截断 |
| 775 | `// 获取状态文?` | `// 获取状态文本` | 注释截断 |
| 808 | `// 获取状态类?` | `// 获取状态类型` | 注释截断 |
| 862 | `// 加载需求ID列?` | `// 加载需求ID列表` | 注释截断 |
| 877 | `console.error('加载需求ID列表失?', error)` | `console.error('加载需求ID列表失败', error)` | 字符串截断 |
| 889 | `// 轮询任务状?` | `// 轮询任务状态` | 注释截断 |
| 940 | `console.error('查询任务状态失?', error)` | `console.error('查询任务状态失败', error)` | 字符串截断 |
| 1066 | `// 如果是异步任务，开始轮?` | `// 如果是异步任务，开始轮询` | 注释截断 |
| 1093 | `//?秒轮询一?` | `// 每2秒轮询一次` | 注释完全乱码 |
| 1267 | `// 初始?` | `// 初始化` | 注释截断 |

---

### 4. `src/views/flow-document/FlowDocumentGeneration.vue` (12个问题)

#### HTML注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 84 | `<!-- 场景图结果展?-->` | `<!-- 场景图结果展示 -->` | HTML注释截断 |
| 203 | `<!-- 路径图结果展?-->` | `<!-- 路径图结果展示 -->` | HTML注释截断 |

#### 字符串乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 464 | `'路径图生成成'` | `'路径图生成成功'` | 字符串截断 |
| 466 | `'生成路径图失'` | `'生成路径图失败'` | 字符串截断 |
| 494 | `'Mermaid代码已复制到剪贴'` | `'Mermaid代码已复制到剪贴板'` | 字符串截断 |
| 501 | `'Mermaid代码已复制到剪贴'` | `'Mermaid代码已复制到剪贴板'` | 字符串截断 |

#### 代码注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 274 | `// 标签?` | `// 标签页` | 注释截断 |
| 277 | `// 需求ID列?` | `// 需求ID列表` | 注释截断 |
| 285 | `// 场景图表?` | `// 场景图表` | 注释截断 |
| 325 | `// 路径图表?` | `// 路径图表` | 注释截断 |
| 376 | `// 加载需求ID列?` | `// 加载需求ID列表` | 注释截断 |
| 383 | `console.error('加载需求ID列表失?', error)` | `console.error('加载需求ID列表失败', error)` | 字符串截断 |
| 402 | `// 生成场景?` | `// 生成场景图` | 注释截断 |
| 437 | `// 生成路径?` | `// 生成路径图` | 注释截断 |
| 505 | `// 导出场景?` | `// 导出场景图` | 注释截断 |
| 517 | `// 导出路径?` | `// 导出路径图` | 注释截断 |
| 541 | `// 切换标签页时的处?` | `// 切换标签页时的处理` | 注释截断 |

---

### 5. `src/views/prompt-template/PromptTemplateList.vue` (6个问题)

#### HTML注释完全乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 1162 | `<!-- 鏌ョ湅璇︽儏瀵硅瘽妗?-->` | `<!-- 查看详情对话框 -->` | HTML注释完全乱码 |
| 1486 | `<!-- 娴嬭瘯鐢熸垚瀵硅瘽妗?-->` | `<!-- 测试生成对话框 -->` | HTML注释完全乱码 |

#### 代码注释完全乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 1864 | `// 鍝嶅簲寮忔暟鎹?` | `// 响应式数据` | 注释完全乱码 |
| 2188 | `// 璁＄畻灞炴?` | `// 计算属性` | 注释完全乱码 |
| 2824 | `// 鍒囨崲启用ㄧ姸鎬?` | `// 切换启用状态` | 注释完全乱码 |
| 2872 | `console.error('鏇存柊状态佸け璐?', error)` | `console.error('更新状态失败', error)` | 字符串完全乱码 |
| 2980 | `// 如果解析失败锛屽皾璇曚粠妯℃澘鍐呭逛腑鎻愬彇鍙橀?` | `// 如果解析失败，尝试从模板内容中提取变量` | 注释完全乱码 |
| 3208 | `// 鐢熸垚鎻愮ず璇?` | `// 生成提示词` | 注释完全乱码 |
| 3298 | `console.error('鐢熸垚鎻愮ず璇嶅け璐?', error)` | `console.error('生成提示词失败', error)` | 字符串完全乱码 |
| 3334 | `// 复制鎻愮ず璇?` | `// 复制提示词` | 注释完全乱码 |
| 3664 | `// 瀵硅瘽妗嗗叧闂?` | `// 对话框关闭` | 注释完全乱码 |
| 3694 | `// 鍒濆嬪?` | `// 初始化` | 注释完全乱码 |

#### 字符串完全乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 2710 | `` `纭瀹氳佸垹闄ゆā鏉?${row.templateName}"鍚楋紵` `` | `` `确定要删除模板"${row.templateName}"吗？` `` | 字符串完全乱码 |

---

### 6. `src/views/test-report/TestReportList.vue` (4个问题)

#### HTML注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 46 | `<!-- 搜索?-->` | `<!-- 搜索区域 -->` | HTML注释截断 |
| 397 | `<!-- 创建人/编辑对话?-->` | `<!-- 创建人/编辑对话框 -->` | HTML注释截断 |
| 532 | `<!-- 查看详情对话?-->` | `<!-- 查看详情对话框 -->` | HTML注释截断 |

#### 代码注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 628 | `// 响应式数据?` | `// 响应式数据` | 注释截断 |

---

### 7. `src/views/test-report-template/TestReportTemplateList.vue` (1个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 280 | `<!-- 创建人/编辑对话?-->` | `<!-- 创建人/编辑对话框 -->` | HTML注释截断 |

---

### 8. `src/views/test-specification/TestSpecificationList.vue` (1个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 46 | `<!-- 搜索?-->` | `<!-- 搜索区域 -->` | HTML注释截断 |

---

### 9. `src/views/ui-script-template/UIScriptTemplateList.vue` (1个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 46 | `<!-- 搜索?-->` | `<!-- 搜索区域 -->` | HTML注释截断 |

---

### 10. `src/views/test-risk-assessment/TestRiskAssessment.vue` (2个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 16 | `评估需求ID和执行任务的风险等级及上线可行` | `评估需求ID和执行任务的风险等级及上线可行性` | 字符串截断 |
| 247 | `<!-- 新建评估对话?-->` | `<!-- 新建评估对话框 -->` | HTML注释截断 |

---

### 11. `src/views/specification-check/SpecificationCheck.vue` (1个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 227 | `<strong>检查时?</strong>` | `<strong>检查时间</strong>` | 字符串截断 |

---

### 12. `src/views/page-element/PageElementList.vue` (1个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 16 | `<!-- 搜索?-->` | `<!-- 搜索区域 -->` | HTML注释截断 |

---

### 13. `src/views/model-config/ModelConfigList.vue` (3个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 19 | `<!-- 搜索?-->` | `<!-- 搜索区域 -->` | HTML注释截断 |
| 237 | `<!-- 创建人/编辑对话?-->` | `<!-- 创建人/编辑对话框 -->` | HTML注释截断 |
| 447 | `<!-- 查看详情对话?-->` | `<!-- 查看详情对话框 -->` | HTML注释截断 |

#### 代码注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 517 | `// 响应式数据?` | `// 响应式数据` | 注释截断 |
| 593 | `// 计算属?` | `// 计算属性` | 注释截断 |
| 757 | `` `确定要删除模型配?${row.modelName}"吗？` `` | `` `确定要删除模型配置"${row.modelName}"吗？` `` | 字符串截断 |
| 899 | `// 对话框关闭?` | `// 对话框关闭` | 注释截断 |
| 907 | `// 初始?` | `// 初始化` | 注释截断 |

---

### 14. `src/views/knowledge-base/KnowledgeBaseList.vue` (5个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 4 | `<h2>知识库管?管理</h2>` | `<h2>知识库管理</h2>` | 标题重复+截断 |
| 14 | `<!-- 搜索?-->` | `<!-- 搜索区域 -->` | HTML注释截断 |
| 26 | `placeholder="请输入检索内容"` | `placeholder="请输入检索内容"` | placeholder截断 |
| 147 | `<!-- 查看文档对话?-->` | `<!-- 查看文档对话框 -->` | HTML注释截断 |
| 169 | `label="相似"` | `label="相似度"` | label截断 |

#### 代码注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 183 | `// 响应式数据据?` | `// 响应式数据` | 注释重复+截断 |
| 256 | `// 检索文档内容方式文档?` | `// 检索文档内容` | 注释错误 |
| 342 | `// 对话框关闭闭?` | `// 对话框关闭` | 注释重复+截断 |

---

### 15. `src/views/case-reuse/CaseReuse.vue` (2个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 14 | `<!-- 搜索条件?-->` | `<!-- 搜索条件 -->` | HTML注释截断 |

#### 代码注释乱码

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 276 | `// 跳转到用例管理页面查看详?` | `// 跳转到用例管理页面查看详情` | 注释截断 |
| 344 | `// 初始?` | `// 初始化` | 注释截断 |

---

### 16. `src/views/test-case-quality/TestCaseQuality.vue` (1个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 20 | `完整性检查?` | `完整性检查` | 文本截断 |

---

### 17. `src/views/requirement/RequirementList.vue` (1个问题)

| 行号 | 问题代码 | 正确代码 | 类型 |
|------|---------|---------|------|
| 13114 | `// 状态流?` | `// 状态流转` | 注释截断 |

---

## 二、问题分类汇总

### 按文件统计

| 文件名 | 问题数 | 严重程度 |
|--------|--------|---------|
| `DataDocumentGeneration.vue` | 17 | 🔴 高 |
| `UIScriptRepair.vue` | 10 | 🔴 高 |
| `UIScriptGeneration.vue` | 10 | 🔴 高 |
| `FlowDocumentGeneration.vue` | 12 | 🔴 高 |
| `PromptTemplateList.vue` | 10 | 🔴 高 |
| `TestReportList.vue` | 4 | 🟡 中 |
| `ModelConfigList.vue` | 8 | 🟡 中 |
| `KnowledgeBaseList.vue` | 8 | 🟡 中 |
| 其他文件 | 30+ | 🟡 中 |
| **总计** | **112+** | - |

### 按问题类型统计

| 类型 | 数量 | 占比 |
|------|------|------|
| 字符串截断 | 40+ | 36% |
| 代码注释截断 | 25+ | 22% |
| HTML注释截断 | 15+ | 13% |
| 完全乱码 | 17+ | 15% |
| 其他编码问题 | 15+ | 13% |

---

## 三、修复优先级

### P0 - 高优先级（影响用户体验）

1. **按钮文本乱码** - 直接影响用户界面
   - `UIScriptRepair.vue`: 行 199, 205
   - `DataDocumentGeneration.vue`: 行 517
   - `FlowDocumentGeneration.vue`: 行 464, 466, 494, 501

2. **标签和占位符文本乱码** - 影响表单可用性
   - 所有 `label` 和 `placeholder` 属性中的乱码

3. **表格列标题乱码** - 影响数据显示
   - `UIScriptRepair.vue`: 行 367, 369
   - `DataDocumentGeneration.vue`: 行 367, 400, 403

### P1 - 中优先级（影响代码可读性）

1. **HTML注释乱码** - 不影响功能，但影响维护
   - 所有 HTML 注释中的乱码

2. **代码注释乱码** - 影响代码可读性
   - 所有 TypeScript 注释中的乱码

### P2 - 低优先级（不影响功能）

1. **完全乱码的注释** - 需要根据上下文推断修复
   - `PromptTemplateList.vue` 中的完全乱码注释

---

## 四、修复建议

### 批量修复策略

1. **修复字符串乱码**
   ```bash
   # 需要手动逐个文件检查和修复
   # 建议使用 UTF-8 编码重新保存文件
   ```

2. **修复注释乱码**
   - 优先修复 HTML 注释（用户不可见但影响维护）
   - 其次修复代码注释（影响开发体验）

3. **验证修复**
   ```bash
   cd frontend
   npm run lint:check
   npm run type-check
   ```

### 预防措施

1. **配置编辑器**：确保所有文件保存为 UTF-8 编码（无 BOM）
2. **版本控制**：在 `.gitattributes` 中指定文件编码
3. **代码审查**：提交前检查中文字符显示是否正确
4. **CI/CD**：添加编码检查步骤

---

## 五、已知已修复问题（参考历史）

根据 `docs/前端语法错误清单.md` 的记载，以下问题已经修复：

✅ TypeScript 语法错误（三元运算符、字符串引号等）
✅ 未使用的导入声明（11个 API 文件）

---

## 六、备注

- 本清单基于全面代码扫描生成
- 部分乱码问题可能需要根据上下文推断正确的字符
- 完全乱码的注释需要结合业务逻辑判断修复
- 建议分批修复，优先处理 P0 级别问题
- 修复后建议运行完整的构建和测试流程

---

**下一步行动**：
1. 优先修复 P0 级别的用户界面相关乱码
2. 逐步修复代码注释和 HTML 注释中的乱码
3. 验证修复效果并更新本清单

